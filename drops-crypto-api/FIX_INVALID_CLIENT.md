# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "invalid client"

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ `http://localhost:3000/auth/twitch/start` –ø–æ–ª—É—á–∞–µ—Ç–µ:
```json
{"status":400,"message":"invalid client"}
```

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç **–æ—Ç Twitch API**, –∞ –Ω–µ –æ—Ç –≤–∞—à–µ–≥–æ backend.

---

## –ü—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏

### 1. Client ID –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Twitch Console
- Client ID —É–¥–∞–ª—ë–Ω –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π
- Client ID –∏–∑ –¥—Ä—É–≥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 2. Client ID –∏ Client Secret –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç
- Secret –æ—Ç –¥—Ä—É–≥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- Secret –Ω–µ –æ–±–Ω–æ–≤–ª—ë–Ω –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ

### 3. Redirect URI –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Twitch Console
- Redirect URI –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö
- Redirect URI –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Ç–æ—á–Ω–æ (–¥–∞–∂–µ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ)

### 4. Backend –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- `.env` –∏–∑–º–µ–Ω—ë–Ω, –Ω–æ backend —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

---

## –†–µ—à–µ–Ω–∏–µ (–ø–æ—à–∞–≥–æ–≤–æ)

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ .env

–í—ã–ø–æ–ª–Ω–∏—Ç–µ:
```powershell
cd C:\Users\Admin\Downloads\drops\drops-crypto-api
node -e "require('dotenv').config(); console.log('TWITCH_CLIENT_ID:', process.env.TWITCH_CLIENT_ID);"
```

**–¢–µ–∫—É—â–∏–π Client ID –≤ .env**: `8z9i3mclo11j984ow4scz3gyg6wge`

---

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Twitch Console

1. –û—Ç–∫—Ä–æ–π—Ç–µ: **https://dev.twitch.tv/console/apps**
2. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Client ID: `8z9i3mclo11j984ow4scz3gyg6wge`
3. –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–Ω–µ –Ω–∞–π–¥–µ–Ω–æ**:
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Client ID –∏ Client Secret
   - –û–±–Ω–æ–≤–∏—Ç–µ `.env`

---

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Redirect URI –≤ Twitch Console

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Twitch Console
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"OAuth Redirect URLs"**
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω (–Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å" –∏–ª–∏ "+"):
   ```
   http://localhost:3000/auth/twitch/callback
   ```
4. **–í–ê–ñ–ù–û**: URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **—Ç–æ—á–Ω–æ** —Ç–∞–∫–∏–º –∂–µ, –∫–∞–∫ –≤ `.env`:
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ–±–µ–ª–æ–≤
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `/` –≤ –∫–æ–Ω—Ü–µ
   - –ü—Ä–æ—Ç–æ–∫–æ–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `http://` (–Ω–µ `https://` –¥–ª—è localhost)

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Client Secret

1. –í Twitch Console –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ï—Å–ª–∏ **Client Secret —Å–∫—Ä—ã—Ç** –∏–ª–∏ –≤—ã –Ω–µ —É–≤–µ—Ä–µ–Ω—ã:
   - –ù–∞–∂–º–∏—Ç–µ **"New Secret"** (—ç—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π Secret –∏ **—Å—Ç–∞—Ä—ã–π –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å**)
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π Secret
   - –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Å –Ω–æ–≤—ã–º Secret

---

### –®–∞–≥ 5: –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª

–û—Ç–∫—Ä–æ–π—Ç–µ: `C:\Users\Admin\Downloads\drops\drops-crypto-api\.env`

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (–∫–∞–∂–¥–∞—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ):

```env
TWITCH_CLIENT_ID=8z9i3mclo11j984ow4scz3gyg6wge
TWITCH_CLIENT_SECRET=–í–ê–®_–†–ï–ê–õ–¨–ù–´–ô_SECRET_–ò–ó_TWITCH_CONSOLE
TWITCH_REDIRECT_URI=http://localhost:3000/auth/twitch/callback
PUBLIC_BASE_URL=http://localhost:3000
APP_DEEPLINK_SCHEME=dropscrypto
JWT_SECRET=–ª—é–±–∞—è_–¥–ª–∏–Ω–Ω–∞—è_—Å–ª—É—á–∞–π–Ω–∞—è_—Å—Ç—Ä–æ–∫–∞
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:**
- `TWITCH_CLIENT_SECRET` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **—Ä–µ–∞–ª—å–Ω—ã–º Secret** –∏–∑ Twitch Console (–Ω–µ placeholder)
- Client ID –∏ Secret –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–∏–∑ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

---

### –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

**–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ** —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl + C), –∑–∞—Ç–µ–º:

```powershell
cd C:\Users\Admin\Downloads\drops\drops-crypto-api
npm run start:dev
```

**–î–æ–∂–¥–∏—Ç–µ—Å—å:** `Nest application successfully started`

---

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–Ω–æ–≤–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:3000/auth/twitch/start`
2. –î–æ–ª–∂–µ–Ω –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Twitch
3. –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –æ—à–∏–±–∫–∞ `invalid client`:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å backend ‚Äî —Ç–∞–º –±—É–¥—É—Ç –ª–æ–≥–∏ —Å –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º Client ID
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ Twitch Console Redirect URI **–¥–æ–±–∞–≤–ª–µ–Ω** (–Ω–µ –ø—Ä–æ—Å—Ç–æ –≤ –ø–æ–ª–µ, –∞ –≤ —Å–ø–∏—Å–∫–µ)

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

1. –°–æ–∑–¥–∞–π—Ç–µ **–Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –≤ Twitch Console:
   - Name: `Drops Crypto`
   - Redirect URI: `http://localhost:3000/auth/twitch/callback`
   - Category: `Website Integration`

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–Ω–æ–≤—ã–π Client ID –∏ Secret**

3. –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Å –Ω–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

---

## –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

- [ ] Client ID —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Twitch Console
- [ ] Client Secret —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —ç—Ç–æ–º—É Client ID
- [ ] Redirect URI –¥–æ–±–∞–≤–ª–µ–Ω –≤ Twitch Console: `http://localhost:3000/auth/twitch/callback`
- [ ] Redirect URI –≤ `.env` —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Twitch Console
- [ ] `.env` —Ñ–∞–π–ª –æ–±–Ω–æ–≤–ª—ë–Ω —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- [ ] Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env`
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ backend –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

---

**–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –æ—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å!** ‚úÖ
