@echo off
REM ============================================================================
REM   –ü–û–õ–ù–û–°–¢–¨–Æ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –ó–ê–ü–£–°–ö: BACKEND + MOBILE APP
REM ============================================================================

setlocal enabledelayedexpansion

echo.
echo ============================================================================
echo   üöÄ –ó–ê–ü–£–°–ö –ü–û–õ–ù–û–ô –°–ò–°–¢–ï–ú–´ (BACKEND + MOBILE APP)
echo ============================================================================
echo.
echo –°–µ–π—á–∞—Å –æ—Ç–∫—Ä–æ—é—Ç—Å—è –î–í–ê –æ–∫–Ω–∞:
echo   1Ô∏è‚É£  –ß–µ—Ä–Ω–æ–µ –æ–∫–Ω–æ —Å –ë–≠–ö–ï–ù–î–û–ú (–æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º)
echo   2Ô∏è‚É£  –ß–µ—Ä–Ω–æ–µ –æ–∫–Ω–æ —Å EXPO (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º)
echo.
echo –ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –≤—Ç–æ—Ä–æ–≥–æ –æ–∫–Ω–∞ –Ω–∞–∂–º–∏: a  (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ Android —ç–º—É–ª—è—Ç–æ—Ä–∞)
echo.
echo ============================================================================
echo.

REM –ó–∞–ø—É—Å–∫ BACKEND –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ
echo –ó–∞–ø—É—Å–∫ BACKEND...
echo.
echo ‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞ –±—ç–∫–µ–Ω–¥–∞...
if not exist "c:\Users\Admin\Music\drops\drops-crypto-api\dist\src\main.js" (
    echo ‚ùå –û–®–ò–ë–ö–ê: –ë—ç–∫–µ–Ω–¥ –Ω–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω!
    echo –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø—É—Å—Ç–∏: BUILD_BACKEND.bat
    pause
    exit /b 1
)
echo ‚úì –ë—ç–∫–µ–Ω–¥ –Ω–∞–π–¥–µ–Ω, –∑–∞–ø—É—Å–∫–∞—é...
echo.
start "üî• BACKEND - Port 3000" cmd /k "cd /d c:\Users\Admin\Music\drops\drops-crypto-api && echo –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ –ø–æ—Ä—Ç 3000... && echo. && node dist\src\main.js"

REM –î–∞–µ–º –±—ç–∫–µ–Ω–¥—É 4 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
echo ‚è≥ –ñ–¥–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±—ç–∫–µ–Ω–¥–∞ (4 —Å–µ–∫)...
timeout /t 4 /nobreak

REM –ó–∞–ø—É—Å–∫ EXPO –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ
echo.
echo –ó–∞–ø—É—Å–∫ EXPO/–ú–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...
echo ‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...
if not exist "c:\Users\Admin\Music\drops\drops-crypto-app\package.json" (
    echo ‚ùå –û–®–ò–ë–ö–ê: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!
    echo –ü—Ä–æ–≤–µ—Ä—å –ø—É—Ç—å: c:\Users\Admin\Music\drops\drops-crypto-app\package.json
    pause
    exit /b 1
)
echo ‚úì –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ, –∑–∞–ø—É—Å–∫–∞—é...
echo.
start "üì± EXPO - Mobile App" cmd /k "cd /d c:\Users\Admin\Music\drops\drops-crypto-app && echo –ó–∞–ø—É—Å–∫ Expo dev server... && echo. && npx expo start -c"

echo.
echo ‚úÖ –û–±–∞ –æ–∫–Ω–∞ –¥–æ–ª–∂–Ω—ã –æ—Ç–∫—Ä—ã—Ç—å—Å—è!
echo.
echo üìã –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:
echo   1. –î–æ–∂–¥–∏—Å—å –∑–∞–≥—Ä—É–∑–∫–∏ Expo (–≤ –æ–∫–Ω–µ #2)
echo   2. –ù–∞–∂–º–∏: a  (–¥–ª—è Android —ç–º—É–ª—è—Ç–æ—Ä–∞)
echo   3. –ü–æ–¥–æ–∂–¥–∏ 2-3 –º–∏–Ω—É—Ç—ã
echo   4. –ö–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è - —Ç–µ—Å—Ç–∏—Ä—É–π OAuth
echo.
echo ‚ùå –ï—Å–ª–∏ –≤–¥—Ä—É–≥ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Å–º–æ—Ç—Ä–∏ –æ–±–∞ –æ–∫–Ω–∞ –Ω–∞ –æ—à–∏–±–∫–∏
echo.

pause
